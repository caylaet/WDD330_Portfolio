<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matching Letters</title>
    <link rel="stylesheet" href="abc.css"/>
</head>
<body>
    <div class="loadGame" id="loadGame">
        <div class="loadExplanation">This is for your child to practice matching their upppercase with their lowercase letters.</div><br>
        <button id="loadButton" class="loadButton">click to begin</button>
    </div>
    <div class="game" id="game">
        <div id="upperCaseLetter"class="upperCaseLetter cloud" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        <div class="lowerCaseLetters">
            <div id="optionOne" class="lowerCaseLetter" draggable="true" ondragstart="drag(event)"></div>
            <div id="optionTwo" class="lowerCaseLetter" draggable="true" ondragstart="drag(event)"></div>
            <div id="optionThree" class="lowerCaseLetter" draggable="true" ondragstart="drag(event)"></div>
            <div id="optionFour" class="lowerCaseLetter" draggable="true" ondragstart="drag(event)"></div>
        </div>
        <div id="results" class="results">
            <p class="incorrectTitle">Incorrect Letters: <div id="incorrectLetters"></div></p>
            <button onclick="resetCount()" class="resetButton">Reset</button>
        </div>
    </div>
    <audio src="Good job you did it.wav" id="correctSound" onended="setLetters()" ></audio>
    <audio src="It's ok you can try again.wav" id="incorrectSound" ></audio>
    <script type="module" src="abc.js">

        import {load} from './abc.js';
        const loadButton = document.getElementById("loadButton");
        loadButton.addEventListener('click', load());

        function drop(ev){
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");
            const currentLetter = getElement("upperCaseLetter").innerHTML;
            // ev.target.innerHTML = data;
            const tryAgain = getElement("incorrectSound");
            tryAgain.pause();
            tryAgain.currentTime = 0;
            if(checkAnswer(data)){
                console.log("correct");
                getElement("correctSound").play();
            }
            else{
                tryAgain.play();
                console.log("incorrect");
                recordIncorrect(currentLetter);
            }
            displayIncorrect();
            
        };
        function drag(ev){
            ev.dataTransfer.setData("text", ev.target.innerHTML);
        };
        function allowDrop(ev){
            ev.preventDefault();
        };

    </script>
</body>
</html>